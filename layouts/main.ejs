<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css"
      integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <style>
      #togglePassword {
        float: right;
        margin-left: -25px;
        margin-top: -30px;
        right: 10px;
        position: relative;
        z-index: 2;
      }
    </style>
  </head>
  <body class="d-flex align-items-center justify-content-center" style="min-height: 80vh">
    <%- body %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Ghi nhớ tài khoản, mật khẩu -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const rememberMeCheckbox = document.getElementById("rememberMe");
        const nameInput = document.getElementById("name");
        const passwordInput = document.getElementById("password");
        const loginForm = document.getElementById("loginForm");

        // Load saved credentials if they exist
        if (localStorage.getItem("rememberMe") === "true") {
          rememberMeCheckbox.checked = true;
          nameInput.value = localStorage.getItem("name") || "";
          passwordInput.value = localStorage.getItem("password") || "";
        }

        // Save credentials on form submit if "Remember Me" is checked
        loginForm.addEventListener("submit", function () {
          if (rememberMeCheckbox.checked) {
            localStorage.setItem("rememberMe", "true");
            localStorage.setItem("name", nameInput.value);
            localStorage.setItem("password", passwordInput.value);
          } else {
            localStorage.removeItem("rememberMe");
            localStorage.removeItem("name");
            localStorage.removeItem("password");
          }
        });
      });
    </script>
    <!-- Hide/Show password -->
    <script>
      const togglePassword = document.querySelector("#togglePassword");
      const password = document.querySelector("#password");
      togglePassword.addEventListener("click", (e) => {
        const type = password.getAttribute("type") === "password" ? "text" : "password";
        password.setAttribute("type", type);
        e.target.classList.toggle("bi-eye");
      });
    </script>
  </body>
</html>
